<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>商机销售漏斗</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../layui/css/layui.css" media="all">
</head>
<script src="../js/echarts.min.js"></script>
<script src="../layui/layui.js" charset="utf-8"></script>
<script src="../js/jquery-3.4.1.min.js" charset="utf-8"></script>

<script type="text/javascript">
    $(function () {
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById("mainTop"));

        var option = {
            title: {//标题
                text:'            全部商机销售漏斗'
            },
           tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c}%"
            },
            toolbox: {
                feature: {
                    dataView: {readOnly: false},
                    restore: {},
                    saveAsImage: {}
                }
            },
            /*legend: {
                data: ['展现','点击','访问','咨询','订单']
            },*/
            series: [
                {
                    name:'全部商机销售漏斗',
                    type:'funnel',
                    top: 40,
                    //x2: 80,
                    bottom: 50,
                    width: '60%',
                    // height: {totalHeight} - y - y2,
                    min: 0,
                    max: 100,
                    minSize: '0%',
                    maxSize: '100%',
                    sort: 'descending',
                    gap: 2,
                    label: {
                        show: true,
                        position: 'inside'
                    },
                    labelLine: {
                        length: 10,
                        lineStyle: {
                            width: 1,
                            type: 'solid'
                        }
                    },
                    itemStyle: {
                        borderColor: '#fff',
                        borderWidth: 1
                    },
                    emphasis: {
                        label: {
                            fontSize: 20
                        }
                    },
                    data: [
                        {value: 60, name: '访问'},
                        {value: 40, name: '咨询'},
                        {value: 20, name: '订单'},
                        {value: 80, name: '点击'},
                        {value: 100, name: '展现'}
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    });
</script>

<script>
    layui.use('table', function () {
        var table = layui.table;

        //方法级渲染
        table.render({
            elem: '#LAY_table_user'
            , url: '/demo/table/user/'
            , cols: [[
                {field: 'id', title: '本周', width: 100, fixed: true}
                , {field: 'username', title: '上周', width: 100}
                , {field: 'sex', title: '本周', width: 100}
                , {field: 'city', title: '上周', width: 100}
                , {field: 'sign', title: '本周', width: 100}
                , {field: 'experience', title: '上周', width: 100}
                , {field: 'score', title: '本周', width: 100}
                , {field: 'classify', title: '上周', width: 100}
            ]]
            , id: 'testReload'
            , page: true
        });
    });
</script>

<body>
<div style="width: 1150px;background-color: white;">
    <div id="mainTop" style="width: 300px;height: 270px;" class="layui-inline"></div>

    <div style="width: 800px;height:400px;" class="layui-inline">
        <br/><br/><br/>
        <table class="layui-hide" id="LAY_table_user" lay-filter="user" ></table>
    </div>
</div>
</body>
</html>